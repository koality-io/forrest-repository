repository:
    name: 'koalityengine'
    description: 'Commands needed for the KoalityEngine'
    identifier: koalityengine
    
commands:
    update-wildcard-certs:
        name: 'certs:wildcard:update'
        description: 'Update the wildcard domain certificated'
        prompt: 'sudo certbot certonly --manual -d *.${domainName} --agree-tos --no-bootstrap --manual-public-ip-logging-ok --preferred-challenges dns-01 --server https://acme-v02.api.letsencrypt.org/directory'
        runnable: false
        parameters:
            domainName:
                enum:
                 - "branch.koality.io"
                 - "api.branches.koalityengine.com"

    queue-show-last:
        name: 'queue:show:recent'
        description: 'Show the recent entries of the queue'
        prompt: 'tail -n ${numberOfResults} /var/log/leankoala/queue.log'
        parameters:
          numberOfResults:
            default: 10
